EXECUTE sp_rename @objname = N'dbo.DocumentModels', @newname = N'DocumentModel', @objtype = N'OBJECT'
IF object_id('[PK_dbo.DocumentModels]') IS NOT NULL BEGIN
    EXECUTE sp_rename @objname = N'[PK_dbo.DocumentModels]', @newname = N'PK_dbo.DocumentModel', @objtype = N'OBJECT'
END
ALTER TABLE [dbo].[DocumentModel] DROP CONSTRAINT [PK_dbo.DocumentModel]
CREATE TABLE [dbo].[UploadEntity] (
    [Id] [int] NOT NULL IDENTITY,
    [JobIdentity] [nvarchar](max),
    [UploadPath] [nvarchar](max),
    [UploadStartDate] [datetime] NOT NULL,
    [Email] [nvarchar](max),
    [FilePath] [nvarchar](max),
    [UploadStatus] [int] NOT NULL,
    [ContractCount] [int] NOT NULL,
    [ErrorCount] [int] NOT NULL,
    [ZippedCount] [int] NOT NULL,
    [UploadEndDate] [datetime] NOT NULL,
    [UserNameStart] [nvarchar](max),
    [UserNameCancel] [nvarchar](max),
    CONSTRAINT [PK_dbo.UploadEntity] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[UploadProgress] (
    [Id] [bigint] NOT NULL IDENTITY,
    [ContractName] [nvarchar](max),
    [ProgressStatus] [int] NOT NULL,
    [ErrorCode] [int] NOT NULL,
    [UploadEntityId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.UploadProgress] PRIMARY KEY ([Id])
)
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.DocumentModel')
AND col_name(parent_object_id, parent_column_id) = 'Id';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[DocumentModel] DROP CONSTRAINT [' + @var0 + ']')
ALTER TABLE [dbo].[DocumentModel] ALTER COLUMN [Id] [int] NOT NULL
ALTER TABLE [dbo].[DocumentModel] ADD CONSTRAINT [PK_dbo.DocumentModel] PRIMARY KEY ([Id])
CREATE INDEX [IX_UploadEntityId] ON [dbo].[UploadProgress]([UploadEntityId])
ALTER TABLE [dbo].[UploadProgress] ADD CONSTRAINT [FK_dbo.UploadProgress_dbo.UploadEntity_UploadEntityId] FOREIGN KEY ([UploadEntityId]) REFERENCES [dbo].[UploadEntity] ([Id]) ON DELETE CASCADE
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201711301220378_AutomaticMigration', N'Docflow.Migrations.Configuration',  0x1F8B0800000000000400ED5B5B6F2335147E47E23F8CE609D09269BB5CAB1454920615B617355D84785939334E6A31630F1E4FB711E297F1C04FE22F703C575F26994B92EE82D04AAB89EDF3D93E371FFB9CFEFDE75FE36F9FA2D079C43C218C9EB9C7A323D7C1D46701A1AB333715CB4FBF72BFFDE6C30FC61741F4E4FC548E7B29C701254DCEDC0721E253CF4BFC071CA16414119FB3842DC5C867918702E69D1C1D7DED1D1F7B18205CC0729CF15D4A058970F6037E4E18F5712C52145EB1008749D10E3DF30CD5B946114E62E4E33377CAFC65C8DE8EA6E7AF46178022D6402DF093709DF3902058D01C874BD741943281042CF7F47582E78233BA9AC7D080C2FB758C61DC1285092EB6715A0FEFBAA3A313B923AF262CA1FC34112CEA0978FCB2609167920F62B45BB1109898B349EE3A6364C6C334C25464DC761D73C6D349C8E5689DD9B968461AED0BA718F1A2D20D5021F9EF8533494391727C46712A3882A1B7E92224FE8F787DCF7EC5F48CA661A82E13160A7D5A0334DD7216632ED67778592CFE32701D4FA7F34CC28A4CA1C9777449C5CB13D7B986C9D122C4951628BB9F0BC6F1F798628E040E6E911098538981333E5AB31B73C9FFCBD940EDC0905CE70A3DBDC274251ECE5CF8749D1979C241D952ACE0352560774024788ADB26C9749E8A729EEF08457CDD6D1E1578ECD5BAB155635EC72143C145C1805E0AA392FEAF2FF65C3FB0453DF4C06A93CB0296F8F04C53CD05E2620A7C29E793DFF7445A88C5D2ED78171122E1C1573D23217E5EF68834A92683836BA477F46492740B1CF962C2D2DA396C52E1167E73CEF81E707E21718C833D00957E24D88B3A414CC0E557A6A087977631DB0441A073002DBE468F649579A36683E76CC57192DCB1B7A0537738CC86260F24D6942EF7D16F9A68669C45772C344E8286A16FE62CE5BE940FEB36FE1EF115163B1D4B25DEA083A924FE571E4D5F7C76D0A3A97427CF12D2948268F08966D7305716600D54691DE889240BDB23857EA65A86588735D2D2E8BA1A6969D4DD8C348D2C132D257799CC42B4AA2F5FED062BE112ED54DCD952412F03CCC335E8B12A3A5D4E57385A605E6C223B2532B5FF098529341C5972D5C6E7CB55098EB713C853521D7EB27DF82D4A131C54A35F6E1F3D2394801E29F09F6D27C88F2995E0F3160216C52116CA92BEE8328332FE4B5BB97235DAA25AA65B18AA5C3ACE3B50AF7B36655D554B46A73388A682AEAA95EBA2C2EA16DDCA03B6AEBA9579D14D7AD5498A8A1F1E2AC00AE21DC8AE3A2399D0C5D222C7926E9AAD220B69BBC973BA38F77DD0D62949E439D347ACB02B5D5E2DC29DFB88CA1B91B5B716FF710BDEF26629A9138BB4C593C8E9E6EB44E0A879972D7EE51A8BB78CFFAAEFF2CB160301912F09C5814EF555175D3E4F12E6934C391B8EF1A6535A5F085C679C9E71B579552C23862BD06F12832EC12FA94466F87943A758FA68E7DCCF5F252728F151604728B0D160E82AABC0C25C651DA3EBEBFCC49A1EC263CC657C8A42B091048C845061C7D284FA2446613FEE19301D8372C9936A42B3678A634C653CDD8F435D5662C699F6AAAAC90D09B6F170EC298A6BDFB0A46F028ADAE5146FBED54BBBE598E1825BF8E6A488F64D0D92B8732C0C44D0873A8A2C14C6789DF6B623A94CBACF5D8585A81B4A27C05266DB216BAD364015F6362FB5318057A83AC6FCA646F4F727D5F61B5969A95C7F57604D60B0D6F43E3AEB1A2E1C9576D669222FCF1395F9246F4342697C85B243504930152DCE3CCF2E4D3E9DF7CFB7443986E7270D69976AB5D54C7027472B6CF4CA8020C033C213F95C8A1648C63F9320B28699B6B84199CBD94C73B3E5592A764921BF2BAAE6549B61A2B62F2BB066B051392CDB335614A1853E4BFCA110F186B78F090BD3886E76D59BA9F3570C953E6FE98E50655D5490AAD1C6197B06232C076EB1DF3A8A75797692B66DC7FB91BAE646FB0B7D3BF96164AE25575418ADA33B9E9A4051E1D4F6BE684A8EC486543ABBE316B91215AD68EA8E5167425498BA75C02EB34B7AE316B39E7E76A8A4394C6B54BA7AF04CC977688C53DABBA369590F154EEBE8CBC32AF96133B1EAEA81A9A740344CBDAB3F6699E868022DFBDE337FA98725FBF498559438D4676E06388CD7D4DFFD9BCCABEFC9693ED5A998665F6F9B0D70A3C9DA57DB6D58E665ABC9C4365DC40EACB956E06B0EA966AF026023D01D1741677B79951585E6435C07D8F548021981E6CF3323396034FF2D9C84240B7FCA01578892254E44FEAAE69E1C1D9F18A559EF4F9994972441D8A756EAD9937C44B2B6358DD73381A5E6F3E823E2FE03E21F45E8E9631569401912402DB24AA40E60C34A8FFE1BFC6F28F9D9490C7659CF1EE0ACD29D00BEC5CEA53B3BADCC2CCFD9CF3695747326EE7D14DD0C01B24B6E86A03414DC0C81692CB719AC028DE536BB49AFB1A4A607E4D022936777410BB23A88176AAAEED84924CD151C3B58425DB1B18B06EB651A1992F57E7D4903FC74E6FE9E919E3A973FBFD1A95F38371C629B53E7C8F9A365219BF4EA30A9A2F7232154BF83BFCBC4CFF3A577B6DCE8DEE3348EFDC2DC2D49532462DA1235F94D010E8905033DC8ED63782EA7358DD334DD0E899E0E399ECD33FE4BF2401BB33D1D123D269F9A9E270E92CBB1AFAE6018CADF0F818926645543C8BF26A2D8D74CA21A734997ACB4506345E510E314B9C20241D883CEB9204B382DA15BD625A8C55117D1020797F42615712A60CB385A841A4BA5856F9B3F4B58E96B1EDFC459F9DF3EB600CB243272BBA1DFA524AC4B31660D87D70608E93A8AD043CA52C81064B5AE90AE19ED0854B0AFF278F7388A43004B6EE81C3DE2216B8348F0155E217F5DBE406C06691784CEF6F194A01547515260D4F4F0137438889EBEF907D1C7353E46370000 , N'6.2.0-61023')

